DEVELOPER SETUP
---------------------------------------------------------------------------------

This file provides some basic information for developers to set up their
development environment to make modifications to the Gradebook 2 project. In
order to simply build and deploy the project in Sakai, refer to the
"sakai/[version]/INSTALL.txt" file. 


RUNNING DEVELOPMENT MODE
-----------------------------------------------------------------------------------

If you're in a 64 bit OS, you'll need to use a 32 bit Java for the Run
command. 

Our suggestion is that you use the Google Plugin with Eclipse with GWT 2+. This is a 
standard Eclipse plugin, with update sites at the following locations:

Eclipse 3.6 (Helios)
http://dl.google.com/eclipse/plugin/3.6

Eclipse 3.5 (Galileo)
http://dl.google.com/eclipse/plugin/3.5

Eclipse 3.4 (Ganymede)
http://dl.google.com/eclipse/plugin/3.4

Eclipse 3.3 (Europa)
http://dl.google.com/eclipse/plugin/3.3

To create a run configuration, right-click on the gradebook2 eclipse prject, select 'Run As...' -> 'Run Configurations...'. 
	That should create a new Web Application run configuration. If not, double click on 'Web Application'

To select a 32 bit JVM use the JRE tab.


You will also need to include the following VM args in the Run Configuration:

-Xmx1028m
-XX:PermSize=256m
-XX:MaxPermSize=400m
-Dgb2.mode=hosted
-Dgb2.role=admin
-Dgb2.enable.scaled.extra.credit=admin
-Dgb2.limit.scaled.extra.credit=categories
-Dgb2.gradable.role.names=Student,access
-Dgb2.enabled.grade.types=points,percentages,letters
-Dgb2.import.delete.missing.grades=true
-Dgb2.security.enabled=false
-DportalPath=/portal/
-Dgb2.dev.mockItems=true

portalPath is really ignored in devel mode now and the portal path is set to "" for security checks if gb2.security.enabled=true

Additional DEV mode configurations:
- By default, the gradebook is populated with test data in DEV mode. This can be turned off via : -Dgb2.dev.mockItems=false 

(if you are building with a version other than trunkm you'll need a property for the point release: add -Dsakai2.6 or -Dsakai2.5, for example.)

Select the '(x)= Arguments' tab and in the 'VM' field, paste the above as one long line of text.


Finally, you will need to configure your browser to support GWT development mode. In Firefox, simply install the GWT Developer Plugin for Firefox:
https://dl-ssl.google.com/gwt/plugins/firefox/gwt-dev-plugin.xpi

------------
Logging in Devel Mode
------------

Adjust the Log4J settings for devel mode using 
dev/src/java/log4j.properties

Example edit:

	To enable DEBUG level logging for class ImportExportUtility add the line

log4j.logger.org.sakaiproject.gradebook.gwt.server.ImportExportUtility=DEBUG

Default setting send INFO level logs to 
war/logs/hosted-log4j.log

Each run will roll the logs:
./war/logs/hosted-log4j.log
./war/logs/hosted-log4j.log.1
./war/logs/hosted-log4j.log.2
./war/logs/hosted-log4j.log.3




------------
-----------

FAQ
-----------

1. I am getting 'java.lang.NoClassDefFoundError: javax/activation/DataSource' in eclipse
  mvn eclipse:eclipse doesn't pic pu the need for activation.jar for some reason (add instuctions for downloading adding to classpath)



2. I am getting 'Illegal constant pool index' errors in the construction of the web applciation class

  see http://code.google.com/p/google-web-toolkit/issues/detail?id=4254








