<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

	<!-- Performance analysis using AOP -->
	<!--import resource="performanceAnalysis.xml"/-->
	
	<!-- Normal injection of services w/o performance analysis -->
	<import resource="gbServices-hosted.xml" />
	
	<import resource="db-hosted.xml" />
		
	<!-- Hibernate Mappings -->
	<!-- bean id="org.sakaiproject.gradebook.gwt.sakai.model.hibernateMappings"
		class="org.sakaiproject.springframework.orm.hibernate.impl.AdditionalHibernateMappingsImpl">
		<property name="mappingResources">
			<list>
				<value>org/sakaiproject/gradebook/gwt/sakai/model/ActionRecord.hbm.xml</value>
				<value>org/sakaiproject/gradebook/gwt/sakai/model/Realm.hbm.xml</value>
				<value>org/sakaiproject/gradebook/gwt/sakai/model/RealmGroup.hbm.xml</value>
				<value>org/sakaiproject/gradebook/gwt/sakai/model/RealmRole.hbm.xml</value>
				<value>org/sakaiproject/gradebook/gwt/sakai/model/UserConfiguration.hbm.xml</value>
				<value>org/sakaiproject/gradebook/gwt/sakai/model/UserDereference.hbm.xml</value>
				<value>org/sakaiproject/gradebook/gwt/sakai/model/UserDereferenceRealmUpdate.hbm.xml</value>
			</list>
		</property>
	</bean-->
	
	<bean class="org.sakaiproject.gradebook.gwt.sakai.rest.JAXBContextResolver"/>
	
	<bean class="org.sakaiproject.gradebook.gwt.sakai.rest.resource.Application">
		<property name="service" ref="org.sakaiproject.gradebook.gwt.sakai.Gradebook2ComponentService"/>
	</bean>
	
	<bean class="org.sakaiproject.gradebook.gwt.sakai.rest.resource.Configuration">
		<property name="service" ref="org.sakaiproject.gradebook.gwt.sakai.Gradebook2ComponentService"/>
	</bean>
	
	<bean class="org.sakaiproject.gradebook.gwt.sakai.rest.resource.Item">
		<property name="service" ref="org.sakaiproject.gradebook.gwt.sakai.Gradebook2ComponentService"/>
	</bean>
	
	<bean class="org.sakaiproject.gradebook.gwt.sakai.rest.resource.LearnerRecord">
		<property name="service" ref="org.sakaiproject.gradebook.gwt.sakai.Gradebook2ComponentService"/>
	</bean>
	
	<bean class="org.sakaiproject.gradebook.gwt.sakai.rest.resource.Roster">
		<property name="service" ref="org.sakaiproject.gradebook.gwt.sakai.Gradebook2Service"/>
	</bean>
	
	<bean class="org.sakaiproject.gradebook.gwt.sakai.rest.resource.Section">
		<property name="service" ref="org.sakaiproject.gradebook.gwt.sakai.Gradebook2ComponentService"/>
	</bean>
	
	
	<bean id="org.sakaiproject.gradebook.gwt.sakai.BusinessLogic" class="org.sakaiproject.gradebook.gwt.sakai.BusinessLogicImpl">
		<property name="gbService" ref="org.sakaiproject.gradebook.gwt.sakai.GradebookToolService"/> 
	</bean>
		
	<bean id="org.sakaiproject.gradebook.gwt.sakai.Gradebook2Authn" class="org.sakaiproject.gradebook.gwt.sakai.Gradebook2AuthnImpl">
	</bean>

	<bean id="org.sakaiproject.gradebook.gwt.sakai.Gradebook2Authz" class="org.sakaiproject.gradebook.gwt.sakai.Gradebook2AuthzImpl">
		<property name="authn" ref="org.sakaiproject.gradebook.gwt.sakai.Gradebook2Authn"/>
		<property name="sectionAwareness" ref="org.sakaiproject.section.api.SectionAwareness"/>
		<property name="gbToolService" ref="org.sakaiproject.gradebook.gwt.sakai.GradebookToolService"/>
		<property name="gbService" ref="org.sakaiproject.gradebook.gwt.sakai.Gradebook2Service"/>
		<!-- property name="toolManager" ref="org.sakaiproject.tool.api.ToolManager"/-->
	</bean>
	
	<bean id="GradebookExportService" class="org.sakaiproject.gradebook.gwt.sakai.GradebookExportController">
		<property name="service" ref="org.sakaiproject.gradebook.gwt.sakai.Gradebook2Service"/>
	</bean>
	
	<bean id="GradebookFinalGradeSubmissionService" class="org.sakaiproject.gradebook.gwt.sakai.GradebookFinalGradeSubmissionController">
		<property name="service" ref="org.sakaiproject.gradebook.gwt.sakai.Gradebook2Service"/>
	</bean>
	
	<bean id="GradebookImportService" class="org.sakaiproject.gradebook.gwt.sakai.GradebookImportController">
		<property name="gbToolService" ref="org.sakaiproject.gradebook.gwt.sakai.GradebookToolService"/>
		<property name="service" ref="org.sakaiproject.gradebook.gwt.sakai.Gradebook2Service"/>
		<property name="commandClass" value="org.sakaiproject.gradebook.gwt.sakai.FileUploadBean"/>
	</bean>
	
	
	<!--
	
	GRBK-37 : Sample Institutional Advisor 
	The Institutional Advisor is configured via the sakai.properties file.
	The sakai.properties file sets the "advisor@org.sakaiproject.gradebook.gwt.sakai.Gradebook2Service" property
	which then is injected via Sakai's bean configuration mechanism
	-->
	<bean id="org.sakaiproject.gradebook.gwt.sakai.api.SampleInstitutionalAdvisor" class="org.sakaiproject.gradebook.gwt.sakai.SampleInstitutionalAdvisor">
		<!-- property name="toolManager" ref="org.sakaiproject.tool.api.ToolManager"/>
		<property name="siteService" ref="org.sakaiproject.site.api.SiteService"/-->
		<property name="finalGradeSubmissionPath" value="/tmp"/>
	</bean>
	
	
	<bean id="org.sakaiproject.gradebook.gwt.sakai.GradeCalculations"
		class="org.sakaiproject.gradebook.gwt.sakai.calculations.GradeCalculationsOOImpl"
		init-method="init">
		
		<property name="letterGradeMap">
			<map>
			  	<entry><key><value>A+</value></key><value>98.3333333333</value></entry>
			  	<entry><key><value>A</value></key><value>95</value></entry>
			  	<entry><key><value>A-</value></key><value>91.6666666666</value></entry>
			  	<entry><key><value>B+</value></key><value>88.3333333333</value></entry>
			  	<entry><key><value>B</value></key><value>85</value></entry>
			  	<entry><key><value>B-</value></key><value>81.6666666666</value></entry>
			  	<entry><key><value>C+</value></key><value>78.3333333333</value></entry>
			  	<entry><key><value>C</value></key><value>75</value></entry>
			  	<entry><key><value>C-</value></key><value>71.6666666666</value></entry>
			  	<entry><key><value>D+</value></key><value>68.3333333333</value></entry>
			  	<entry><key><value>D</value></key><value>65</value></entry>
			  	<entry><key><value>D-</value></key><value>61.6666666666</value></entry>
			  	<entry><key><value>F</value></key><value>58.3333333333</value></entry>
				<entry><key><value>0</value></key><value>0</value></entry>
			</map>
		</property>
		
	</bean>

	
	<bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"/>
	


</beans>
